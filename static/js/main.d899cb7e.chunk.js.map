{"version":3,"sources":["index.js"],"names":["Square","props","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","onClick","value","Board","key","i","coords","_this","this","squares","_this2","board","Array","fill","map","_","rowIndex","cols","colIndex","renderSquare","React","Component","Game","_this3","Object","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","history","stepNumber","xIsNext","orderIsAscending","slice","length","calculateWin","document","querySelector","deactivateMoveList","setState","concat","moves","querySelectorAll","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","forEach","li","classList","remove","event","step","target","add","status","_this4","current","win","move","desc","join","jumpTo","winner","line","el","filter","square","ordering","orderedMoves","reverse","handleClick","changeMovesOrder","lines","_lines$i","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","b","c","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d899cb7e.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css'\n\nfunction Square(props) { // child controlled component\n  return (\n    <button\n      className=\"square\"\n      onClick={props.onClick}\n    >\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component { // parent component\n  renderSquare(key, i, coords) {\n    return (\n      <Square\n        key={key}\n        value={this.props.squares[i]} // passing props: data flow from parent to children\n        onClick={() => this.props.onClick(i, coords)}\n      />\n    );\n  }\n\n  render() {\n    let i = 0;\n    const board = Array(3).fill(null).map((_, rowIndex) => {\n      const cols = Array(3).fill(null).map((_, colIndex) => {\n        return this.renderSquare(colIndex, i++, [colIndex + 1, rowIndex + 1]);\n      })\n      return (<div key={rowIndex} className='board-row'>{cols}</div>);\n    })\n    return (<div>{board}</div>);\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        coords: null,\n        squares: Array(9).fill(null),\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      orderIsAscending: true,\n    };\n  }\n\n  handleClick(i, coords) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWin(squares) || squares[i]) return;\n\n    const moveList = document.querySelector('.move-list');\n    moveList.querySelector('.active') && this.deactivateMoveList();\n\n\n    squares[i] = this.state.xIsNext ? 'x' : 'o';\n\n    this.setState({\n      history: history.concat([{\n        coords: coords,\n        squares: squares,\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n    });\n  }\n\n  deactivateMoveList() {\n    const moves = document.querySelectorAll('.move-list li');\n    [...moves].forEach(li => li.querySelector('button').classList.remove('active'));\n  }\n\n  jumpTo(event, step) {\n    this.deactivateMoveList();\n    event.target.classList.add('active');\n    document.querySelector('.game-board>div').classList.remove('end-game')\n\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2 === 0),\n    })\n  }\n  \n  changeMovesOrder() {\n    this.setState({\n      orderIsAscending: !this.state.orderIsAscending,\n    })\n\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const win = calculateWin(current.squares);\n    const moves = history.map((step, move) => {\n      const desc = move ?\n      `[${step.coords.join(', ')}] Go to move # ${move}` :\n      'Go to game start';\n      \n      return (\n        <li className=\"move\" key={move}>\n          <button onClick={(event) => this.jumpTo(event, move)}>\n            {desc}\n          </button>\n        </li>\n      )\n    });\n    \n    const squares = document.querySelectorAll('.square');\n    let status;\n    if (win) {\n      status = 'Winner: ' + win.winner;\n      win.line.forEach(el => squares[el].classList.add('end-game'));\n    } else {\n      [...squares].forEach(el => el.classList.remove('end-game'));\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n      if (!current.squares.filter(square => !square).length) {\n        status = 'The Draw.';\n        document.querySelector('.game-board>div').classList.add('end-game')\n      }\n\n    }\n\n    const ordering = this.state.orderIsAscending ? 'descending' : 'ascending';\n    const orderedMoves = this.state.orderIsAscending ? moves.slice() : moves.slice().reverse();\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={current.squares}\n            onClick={(i, coords) => this.handleClick(i, coords)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <button\n            className=\"sort\"\n            onClick={() => this.changeMovesOrder()}\n          >List by: {ordering}</button>\n          <ul className=\"move-list\">{orderedMoves}</ul>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\n// ========================================\n\nfunction calculateWin(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return {\n        winner: squares[a],\n        line: lines[i],\n      };\n    }\n  }\n  return null;\n}\n"],"sourceRoot":""}