{"version":3,"sources":["index.js"],"names":["Square","props","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","onClick","value","Board","key","i","coords","_this","this","squares","_this2","board","Array","fill","map","_","rowIndex","cols","colIndex","renderSquare","React","Component","Game","_this3","Object","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","history","stepNumber","xIsNext","orderIsAscending","slice","length","calculateWin","document","querySelector","removeSelection","setState","concat","DOMMoveItems","querySelectorAll","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","forEach","item","classList","remove","event","step","target","add","_this4","current","win","moves","move","desc","join","jumpTo","status","DOMsquares","winner","line","el","filter","square","ordering","orderedMoves","reverse","handleClick","changeMovesOrder","lines","_lines$i","C_Users_dandgerson_sandox_reactjs_org_tutorial_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","b","c","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.24d91d8d.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css'\n\nfunction Square(props) { // child controlled component\n  return (\n    <button\n      className=\"square\"\n      onClick={props.onClick}\n    >\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component { // parent component\n  renderSquare(key, i, coords) {\n    return (\n      <Square\n        key={key}\n        value={this.props.squares[i]} // passing props: data flow from parent to children\n        onClick={() => this.props.onClick(i, coords)}\n      />\n    );\n  }\n\n  render() {\n    let i = 0;\n    const board = Array(3).fill(null).map((_, rowIndex) => {\n      const cols = Array(3).fill(null).map((_, colIndex) => {\n        return this.renderSquare(colIndex, i++, [colIndex + 1, rowIndex + 1]);\n      })\n      return (<div key={rowIndex} className='board-row'>{cols}</div>);\n    })\n    return (<div>{board}</div>);\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        coords: null,\n        squares: Array(9).fill(null),\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      orderIsAscending: true,\n    };\n  }\n\n  handleClick(i, coords) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWin(squares) || squares[i]) return;\n\n    document.querySelector('.move-list .active') && this.removeSelection();\n\n    squares[i] = this.state.xIsNext ? 'x' : 'o';\n\n    this.setState({\n      history: history.concat([{\n        coords: coords,\n        squares: squares,\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n    });\n  }\n\n  removeSelection() {\n    const DOMMoveItems = document.querySelectorAll('.move-list li');\n    [...DOMMoveItems].forEach(item => item\n      .querySelector('button')\n      .classList.remove('active'));\n  }\n\n  jumpTo(event, step) {\n    this.removeSelection();\n    event.target.classList.add('active');\n    document.querySelector('.game-board>div').classList.remove('end-game');\n\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2 === 0),\n    });\n  }\n\n  changeMovesOrder() {\n    this.setState({\n      orderIsAscending: !this.state.orderIsAscending,\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const win = calculateWin(current.squares);\n\n    const moves = history.map((move, step) => {\n      const desc = step ?\n        `Move # ${step} -- ${step % 2 ? 'X' : 'O'} : (${move.coords.join(', ')})` :\n        'Game start';\n      \n      return (\n        <li className=\"move\" key={step}>\n          <button onClick={(event) => this.jumpTo(event, step)}>\n            {desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status = '';\n    const DOMsquares = document.querySelectorAll('.square');\n    if (win) {\n      status = 'Winner: ' + win.winner;\n      win.line.forEach(el => DOMsquares[el].classList.add('end-game'));\n    } else if (current.squares.filter(square => !square).length !== 0) {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n      [...DOMsquares].forEach(el => el.classList.remove('end-game'));\n    } else {\n      status = 'The Draw';\n      document.querySelector('.game-board>div').classList.add('end-game')\n    }\n\n    const ordering = this.state.orderIsAscending ?\n      'descending' :\n      'ascending';\n    const orderedMoves = this.state.orderIsAscending ?\n      moves.slice() :\n      moves.slice().reverse();\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={current.squares}\n            onClick={(i, coords) => this.handleClick(i, coords)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <button\n            className=\"sort\"\n            onClick={() => this.changeMovesOrder()}\n          >List by: {ordering}</button>\n          <ul className=\"move-list\">{orderedMoves}</ul>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\n// ========================================\n\nfunction calculateWin(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return {\n        winner: squares[a],\n        line: lines[i],\n      };\n    }\n  }\n  return null;\n};\n"],"sourceRoot":""}